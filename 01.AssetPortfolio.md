# Asset and Portfolio Management
Once an organisation is registered into LocalFlex, its users can upload and manage their assets and portfolios on the platform via the following API endpoints:

## Create an asset

This Endpoint is to be used whenever an FSP wants to add a new single asset into the LocalFlex platform.

`POST` `/asset`

**Requested body schema of an** `asset`:


|Field|Description |Allowable responses/examples|
|---|---|---|
|assetType (*string*)|Type of asset| enum: `Aggregated`, `Wind`, `Solar`, `Non-Intermittent Generation`, `Biomass`, `EV`, `Other` |
|name (*string*)|Name of the asset chosen by the FSP|MyAsset1|
|siteMRID (*string*)|Universally unique ID of the site|"3fa85f64-5717-4562-b3fc-2c963f66afa6"|
|powerOutput (*number*)|The full load output of the asset |2 [kW]|
|powerOutputUnit (*string*)|Unit of the power output. By default it is set to kW|enum: `kW`, `MW`|
|usabilityCapacity (*number*)|Usability Capacity of the asset|20 [kWh]|
|usabilityCapacityUnit (*string*)|Unit of the Usability Capacity. By default it is set to kWh|enum: `kWh`, `MWh`|
|minimumActivationTime (*number*)|Minimum time duration for activation in Milliseconds|0|
|maximumActivationTime (*number*)|Maximum time duration for activation in Milliseconds|1.000.000|
|responseTime (*number*)|Minimum response time duration in Milliseconds to respond to an instruction|1000|
|recoveryTime (*number*)|The time required by the asset to recover from one instruction until the next instruction can be actioned, in Milliseconds.|1.000.000|
|canProvideMetering (*boolean*)|Indicator whether the asset can or cannot provide live metering|enum: `True`, `False`|
|soApproved (*boolean*)|Indicator of whether or not the system operator has approved the asset|enum: `True`, `False`|
|platformApproved (*boolean*)|Indicator of whether or not the localFlex admin has approved the asset|enum: `True`, `False`|
|powerOfAttorney (*boolean*)|Can provide power of attorney on-behalf|enum: `True`, `False`|
|rampRateUp (*number*)|The upward ramp rate of the asset|50 [kW/min]|
|rampRateUpUnit (*string*)|The unit of the upward ramp rate of the asset. By default it is set to kW/min|enum: `kW/min`, `MW/min`|
|rampRateDown (*number*)|The downward ramp rate of the asset|50 [kW/min]|
|rampRateDownUnit (*string*)|The unit of the downward ramp rate of the asset. By default it is set to kW/min|enum: `kW/min`, `MW/min`|




**Example:**
```
{
  "assetType": "Aggregated",
  "name": "string",
  "siteMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "powerOutput": 0,
  "powerOutputUnit": "kW",
  "usabilityCapacity": 0,
  "usabilityCapacityUnit": "kWh",
  "minimumActivationTime": 0,
  "maximumActivationTime": 0,
  "responseTime": 0,
  "recoveryTime": 0,
  "canProvideMetering": true,
  "soApproved": true,
  "platformApproved": true,
  "powerOfAttorney": true,
  "rampRateUp": 0,
  "rampRateUpUnit": "kW/min",
  "rampRateDown": 0,
  "rampRateDownUnit": "kW/min"
}
```
**Responses:**

`200` successful operation
```
{
  "result": asset{...},
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```

## Update a single asset
This Endpoint is to be used whenever an FSP wants to update a single asset into the LocalFlex platform.

`PATCH` `/asset/{MRID}`

**Requested body schema of an** `asset`:
|Field|Description |Allowable responses/examples|
|---|---|---|
|assetType (*string*)|Type of asset| enum: `Aggregated`, `Wind`, `Solar`, `Non-Intermittent Generation`, `Biomass`, `EV`, `Other` |
|name (*string*)|Name of the asset chosen by the FSP|MyAsset1|
|siteMRID (*string*)|Universally unique ID of the site|"3fa85f64-5717-4562-b3fc-2c963f66afa6"|
|powerOutput (*number*)|The full load output of the asset |2 [kW]|
|powerOutputUnit (*string*)|Unit of the power output. By default it is set to kW|enum: `kW`, `MW`|
|usabilityCapacity (*number*)|Usability Capacity of the asset|20 [kWh]|
|usabilityCapacityUnit (*string*)|Unit of the Usability Capacity. By default it is set to kWh|enum: `kWh`, `MWh`|
|minimumActivationTime (*number*)|Minimum time duration for activation in Milliseconds|0|
|maximumActivationTime (*number*)|Maximum time duration for activation in Milliseconds|1.000.000|
|responseTime (*number*)|Minimum response time duration in Milliseconds to respond to an instruction|1000|
|recoveryTime (*number*)|The time required by the asset to recover from one instruction until the next instruction can be actioned, in Milliseconds.|1.000.000|
|canProvideMetering (*boolean*)|Indicator whether the asset can or cannot provide live metering|enum: `True`, `False`|
|soApproved (*boolean*)|Indicator of whether or not the system operator has approved the asset|enum: `True`, `False`|
|platformApproved (*boolean*)|Indicator of whether or not the localFlex admin has approved the asset|enum: `True`, `False`|
|powerOfAttorney (*boolean*)|Can provide power of attorney on-behalf|enum: `True`, `False`|
|rampRateUp (*number*)|The upward ramp rate of the asset|50 [kW/min]|
|rampRateUpUnit (*string*)|The unit of the upward ramp rate of the asset. By default it is set to kW/min|enum: `kW/min`, `MW/min`|
|rampRateDown (*number*)|The downward ramp rate of the asset|50 [kW/min]|
|rampRateDownUnit (*string*)|The unit of the downward ramp rate of the asset. By default it is set to kW/min|enum: `kW/min`, `MW/min`|

**Example:**
```
{
  "assetType": "Aggregated",
  "name": "string",
  "siteMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "powerOutput": 0,
  "powerOutputUnit": "kW",
  "usabilityCapacity": 0,
  "usabilityCapacityUnit": "kWh",
  "minimumActivationTime": 0,
  "maximumActivationTime": 0,
  "responseTime": 0,
  "recoveryTime": 0,
  "canProvideMetering": true,
  "soApproved": true,
  "platformApproved": true,
  "powerOfAttorney": true,
  "rampRateUp": 0,
  "rampRateUpUnit": "kW/min",
  "rampRateDown": 0,
  "rampRateDownUnit": "kW/min"
}
```
**Responses:**

`200` successful operation
```
{
  "result": asset{...},
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```



## Return a single asset
This Endpoint is to be used whenever an FSP wants to retrieve a single asset from the LocalFlex platform, based on the filtering from its mrid.

`GET` `/asset/{MRID}`

**Parameter** 
|Parameter|description|
|---|---|
|mrid|The universally unique ID of the asset's site|

**Responses:**

`200` successful operation
```
{
  "result": asset{...},
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```


## Return all assets filtered by a given site mrid
This Endpoint is to be used whenever an FSP wants to retrieve a single asset from the LocalFlex platform, based on the filtering from its mrid.

`GET` `/asset/portfolio{MRID}`

**Parameter** 
|Parameter|description|
|---|---|
|mrid|mrid of the site associated with the assets|

**Responses:**

`200` successful operation
```
{
  "result": asset{...},
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```


## Create a portfolio

This Endpoint is to be used whenever an FSP wants to create a new portfolio (bidding unit) into the LocalFlex platform.

`POST` `/portfolio`

**Requested body schema of an** `portfolio`:
|Field|Description |Allowable responses/examples|
|---|---|---|
|mrid (*string*)|identifier of the portfolio|"5kb85f65-4632-4562-c6ji-1t764y92zyq3"|
|name (*string*)|Name of the portfolio chosen by the FSP|MyPortfolio1|
|organisationMRID (*string*)|Identifier of the organisation|"CompanyFSP14"|
|marketRegionMrid (*string*)|Identifier of the Market Region |"5kb85f65-4632-4562-c6ji-1t764y92zyq3"|































