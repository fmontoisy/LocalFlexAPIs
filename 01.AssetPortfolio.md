# Asset and Portfolio Management
Once an organisation is registered into LocalFlex, its users can upload and manage their assets and portfolios on the platform via the following API endpoints:

## Create an asset

This Endpoint is to be used whenever an FSP wants to add a new single asset into the LocalFlex platform.

`POST` `/asset`: Create a new asset

**Requested body schema:**
|Field|Description |Allowable responses/examples|
|---|---|---|
|assetType (*string*)|Type of asset| enum: `Aggregated`, `Wind`, `Solar`, `Non-Intermittent Generation`, `Biomass`, `EV`, `Other` |
|name (*string*)|Name of the asset chosen by the FSP|MyAsset1|
|siteMRID (*string*)|Universally unique ID of the site|"3fa85f64-5717-4562-b3fc-2c963f66afa6"|
|powerOutput (*number*)|The full load output of the asset |2 [kW]|
|powerOutputUnit (*string*)|Unit of the power output. By default it is set to kW|enum: `kW`, `MW`|
|usabilityCapacity (*number*)|Usability Capacity of the asset|20 [kWh]|
|usabilityCapacityUnit (*string*)|Unit of the Usability Capacity. By default it is set to kWh|enum: `kWh`, `MWh`|
|minimumActivationTime (*number*)|Minimum time duration for activation in Milliseconds|0|
|maximumActivationTime (*number*)|Maximum time duration for activation in Milliseconds|1.000.000|
|responseTime (*number*)|Minimum response time duration in Milliseconds to respond to an instruction|1000|
|recoveryTime (*number*)|The time required by the asset to recover from one instruction until the next instruction can be actioned, in Milliseconds.|1.000.000|
|canProvideMetering (*boolean*)|Indicator whether the asset can or cannot provide live metering|enum: `True`, `False`|
|soApproved (*boolean*)|Indicator of whether or not the system operator has approved the asset|enum: `True`, `False`|
|platformApproved (*boolean*)|Indicator of whether or not the localFlex admin has approved the asset|enum: `True`, `False`|
|powerOfAttorney (*boolean*)|Can provide power of attorney on-behalf|enum: `True`, `False`|
|rampRateUp (*number*)|The upward ramp rate of the asset|50 [kW/min]|
|rampRateUpUnit (*string*)|The unit of the upward ramp rate of the asset. By default it is set to kW/min|enum: `kW/min`, `MW/min`|
|rampRateDown (*number*)|The downward ramp rate of the asset|50 [kW/min]|
|rampRateDownUnit (*string*)|The unit of the downward ramp rate of the asset. By default it is set to kW/min|enum: `kW/min`, `MW/min`|





```
{
  "assetType": "Aggregated",
  "name": "string",
  "siteMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "powerOutput": 0,
  "powerOutputUnit": "kW",
  "usabilityCapacity": 0,
  "usabilityCapacityUnit": "kWh",
  "minimumActivationTime": 0,
  "maximumActivationTime": 0,
  "responseTime": 0,
  "recoveryTime": 0,
  "canProvideMetering": true,
  "soApproved": true,
  "platformApproved": true,
  "powerOfAttorney": true,
  "rampRateUp": 0,
  "rampRateUpUnit": "kW/min",
  "rampRateDown": 0,
  "rampRateDownUnit": "kW/min"
}
```
**Responses:**

`200` successful operation
```
{
  "result": {
    "assetType": "Aggregated",
    "name": "string",
    "siteMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "powerOutput": 0,
    "powerOutputUnit": "kW",
    "usabilityCapacity": 0,
    "usabilityCapacityUnit": "kWh",
    "minimumActivationTime": 0,
    "maximumActivationTime": 0,
    "responseTime": 0,
    "recoveryTime": 0,
    "canProvideMetering": true,
    "soApproved": true,
    "platformApproved": true,
    "powerOfAttorney": true,
    "rampRateUp": 0,
    "rampRateUpUnit": "kW/min",
    "rampRateDown": 0,
    "rampRateDownUnit": "kW/min"
  },
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```

## Update a single asset
`PATCH` `/asset/{MRID}`

**Requested body:**
```
{
  "assetType": "Aggregated",
  "name": "string",
  "siteMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "powerOutput": 0,
  "powerOutputUnit": "kW",
  "usabilityCapacity": 0,
  "usabilityCapacityUnit": "kWh",
  "minimumActivationTime": 0,
  "maximumActivationTime": 0,
  "responseTime": 0,
  "recoveryTime": 0,
  "canProvideMetering": true,
  "soApproved": true,
  "platformApproved": true,
  "powerOfAttorney": true,
  "rampRateUp": 0,
  "rampRateUpUnit": "kW/min",
  "rampRateDown": 0,
  "rampRateDownUnit": "kW/min"
}
```
**Responses:**

`200` successful operation
```
{
  "result": {
    "assetType": "Aggregated",
    "name": "string",
    "siteMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "powerOutput": 0,
    "powerOutputUnit": "kW",
    "usabilityCapacity": 0,
    "usabilityCapacityUnit": "kWh",
    "minimumActivationTime": 0,
    "maximumActivationTime": 0,
    "responseTime": 0,
    "recoveryTime": 0,
    "canProvideMetering": true,
    "soApproved": true,
    "platformApproved": true,
    "powerOfAttorney": true,
    "rampRateUp": 0,
    "rampRateUpUnit": "kW/min",
    "rampRateDown": 0,
    "rampRateDownUnit": "kW/min"
  },
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```

`403` You don't have permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```

## Return an asset
`GET` `/asset/{mrid}`: Return  a single asset

**Responses:**

`200` successful operation
```
{
  "result": {
    "assetType": "Aggregated",
    "name": "string",
    "siteMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "powerOutput": 0,
    "powerOutputUnit": "kW",
    "usabilityCapacity": 0,
    "usabilityCapacityUnit": "kWh",
    "minimumActivationTime": 0,
    "maximumActivationTime": 0,
    "responseTime": 0,
    "recoveryTime": 0,
    "canProvideMetering": true,
    "soApproved": true,
    "platformApproved": true,
    "powerOfAttorney": true,
    "rampRateUp": 0,
    "rampRateUpUnit": "kW/min",
    "rampRateDown": 0,
    "rampRateDownUnit": "kW/min"
  },
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```


## Return all assets for a given site mrid
`GET` `/asset/portfolio{mrid}`: Return  a single asset

**Responses:**

`200` successful operation
```
{
  "result": [
    {
      "assetType": "Aggregated",
      "name": "string",
      "siteMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
      "powerOutput": 0,
      "powerOutputUnit": "kW",
      "usabilityCapacity": 0,
      "usabilityCapacityUnit": "kWh",
      "minimumActivationTime": 0,
      "maximumActivationTime": 0,
      "responseTime": 0,
      "recoveryTime": 0,
      "canProvideMetering": true,
      "soApproved": true,
      "platformApproved": true,
      "powerOfAttorney": true,
      "rampRateUp": 0,
      "rampRateUpUnit": "kW/min",
      "rampRateDown": 0,
      "rampRateDownUnit": "kW/min"
    }
  ],
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```



## Create a portfolio
`POST` `/portfolio{mrid}`: create a portfolio

**Requested body:**
```
{
  "mrid": "string",
  "name": "string",
  "organisationMrid": "string",
  "marketRegionMrid": "string",
  "gridNodeMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "marketProducts": [
    "string"
  ]
}
```

**Responses:**

`200` successful operation
```
{
  "result": [
{
  "result": {
    "mrid": "string",
    "name": "string",
    "organisationMrid": "string",
    "marketRegionMrid": "string",
    "gridNodeMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "marketProducts": [
      "string"
    ]
  },
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```


## Update a portfolio
`PATCH` `/portfolio{mrid}`: Update a single portfolio

**Requested body:**
```
{
  "mrid": "string",
  "name": "string",
  "organisationMrid": "string",
  "marketRegionMrid": "string",
  "gridNodeMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "marketProducts": [
    "string"
  ]
}
```

**Responses:**

`200` successful operation
```
{
  "result": [
{
  "result": {
    "mrid": "string",
    "name": "string",
    "organisationMrid": "string",
    "marketRegionMrid": "string",
    "gridNodeMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "marketProducts": [
      "string"
    ]
  },
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```


## Delete a portfolio
`DELETE` `/portfolio{mrid}`: Delete a single portfolio

**Requested body:**
```
{
  "mrid": "string",
  "name": "string",
  "organisationMrid": "string",
  "marketRegionMrid": "string",
  "gridNodeMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "marketProducts": [
    "string"
  ]
}
```

**Responses:**

`200` successful operation
```
{
  "result": [
{
  "result": {
    "mrid": "string",
    "name": "string",
    "organisationMrid": "string",
    "marketRegionMrid": "string",
    "gridNodeMrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "marketProducts": [
      "string"
    ]
  },
  "status": true,
  "code": 200
}
```

`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```
`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```
