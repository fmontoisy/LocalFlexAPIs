# Offers Management

This page describes the handling of APIs for the management of offers (sell orders). The general workflow is as follows:

1. First, the FSP must create an order batch
2. Then, the FSP can create offers with reference to the order batch
3. Eventually the FSP is able to publish its offers
   

## Create an order batch
This Endpoint is to be used whenever an FSP wants to create a new order batch into the LocalFlex platform.

`POST` `/api/orderBatch`


**Requested body schema of an** `orderBatch`:


|Field|Description |Allowable responses/examples|
|---|---|---|
|mrid (*string*)|Universally unique id for the batch|'3fa85f64-5717-4562-b3fc-2c963f66afa6'|
|status (*string*)|The status of the batch|enum: `'Draft'`, `'Published'`|
|items (*array*)|An array of offers|['3fa85f64-5717-4562-b3fc-2c963f66afa6']|

**Example**
```
{
  "mrid": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "status":"Draft",
  "items": []
}
```


**Responses:**


`200` successful operation
```
{
  "result": orderBatch{...}, 
  "status": true,
  "code": 200
}
```


`401` Access token is missing or invalid
```
{
  "result": "string",
  "status": true,
  "code": 401
}
```


`403` You don't have have the permission to access the response
```
{
  "result": "string",
  "status": true,
  "code": 403
}
```



## Create a new offer
This Endpoint is to be used whenever an FSP wants to create a new offer into the LocalFlex platform. This has to be done, once the order batch exists.

`POST` `/offer`

**Requested body schema of an** `offer`:


|Field|Description |Allowable responses/examples|
|---|---|---|
|mrid (*string*)|Universally unique id for the offer|'3fa85f64-5717-4562-b3fc-2c963f66afa6'|
|businessType (*string*)|Nature of the product, as defined in the market rules|enum: `'DA'`|
|currency (*string*)|Currency used|enum: `'GBP'`|
|direction (*string*)|Direction of the energy flow (Defined in the market rules)|enum: `'UP'`, `'DOWN'`|
|measureUnitQuantity (*string*)|Unit of measurement for flexibility available|enum: `'MW'`|
|measureUnitEnergyQuantity (*string*)|Unit of measurement for the energy (utilisation component of the flexibility available)|enum: `'MWh'`|
|status (*string*)|Offer Status|enum: `'Draft'`, `'Published'`|
|flexQtyConvention (*string*)|Flex Qty Convention|enum: `'Load'`, `'Generation'`|
|reserveObjectLevel (*string*)|Reserve object level|enum: `'Asset'`, `'Portfolio'`|
|reserveObjectMrid (*string*)|Unique mrid of the asset or portfolio where the energy is delivered||
|pricePeriodUnit (*string*)|For what time unit the price is defined per measureUnitQuantity and measureUnitEnergyQuantity|enum: `'Hr'`|
|minActivationQuantity (*number*)|minimum quantity at which the offer can be accepted for each period|1|
|constraints|||
|periods (*array*)|||
|bmAvailable (*boolean*)|Boolean value to determine whether or not a BMOffer should be created post auction for the BM|enum: `true`, `false`|
|orderBatchMrid (*string*)|Order batch Identifier|'3fa85f64-5717-4562-b3fc-2c963f66afa6'|












